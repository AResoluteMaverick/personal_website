import { useState} from 'react';
import { useSpring, animated, config } from 'react-spring';
import styles from './MorphingSVG.module.css'

export default function MorphingSVG() {
  const paths = [
    "M42.2,-41.4C55.7,-38.9,68.5,-26.6,72.5,-11.6C76.5,3.4,71.8,21,60.2,28.6C48.5,36.2,30,33.8,17.2,31.5C4.5,29.3,-2.4,27.4,-16.8,29.4C-31.3,31.5,-53.3,37.5,-63.1,31.3C-72.8,25,-70.2,6.6,-63.4,-7.6C-56.7,-21.8,-45.7,-31.6,-34.5,-34.5C-23.2,-37.4,-11.6,-33.3,1.4,-34.9C14.3,-36.6,28.6,-43.8,42.2,-41.4Z",
    "M26.8,-39.8C33.1,-26.6,35.5,-16.7,40,-5C44.5,6.6,51,19.9,45.5,23.3C40,26.7,22.5,20.2,9.2,24.9C-4.1,29.6,-13.2,45.4,-25.8,49.9C-38.4,54.4,-54.5,47.6,-59,35.9C-63.5,24.3,-56.4,7.8,-52.5,-8.4C-48.7,-24.6,-48,-40.5,-39.8,-53.3C-31.5,-66.2,-15.8,-76,-2.8,-72.7C10.2,-69.4,20.5,-53,26.8,-39.8Z",
    "M31.3,-29.1C46.7,-24.4,69.5,-20.3,72,-11.8C74.6,-3.3,56.8,9.6,46.9,27.5C37.1,45.5,35.2,68.5,24.5,76.2C13.8,84,-5.7,76.5,-19.4,66C-33,55.4,-40.9,41.8,-50.7,27.8C-60.5,13.9,-72.2,-0.5,-70.3,-12.5C-68.3,-24.5,-52.6,-34.3,-38.6,-39.3C-24.6,-44.3,-12.3,-44.7,-2.2,-42.1C7.9,-39.5,15.9,-33.9,31.3,-29.1Z",
    "M52.1,-53.6C65.6,-50.8,73.2,-32.5,75.7,-14C78.2,4.5,75.5,23.3,66.5,37.9C57.5,52.5,42.1,63,29,58.7C15.8,54.4,4.9,35.4,-9.3,28.8C-23.6,22.2,-41.2,28.1,-46.9,24.2C-52.7,20.2,-46.6,6.5,-43.9,-7.6C-41.2,-21.7,-41.9,-36.2,-35.1,-40.1C-28.4,-44.1,-14.2,-37.5,2.6,-40.5C19.3,-43.6,38.6,-56.3,52.1,-53.6Z"
  ];

  const [pathIndex, setPathIndex] = useState(0);
  const [toggle, setToggle] = useState(true); 

  const { x } = useSpring({
    config: { duration: 2000 },
    from: { x: 0 },
    to: { x: 1 },
    onRest: () => {
      setPathIndex(prevIndex => (prevIndex + 1) % paths.length);
      setToggle(!toggle);
    },
    reset: true,
  });

  return (
    <svg
      viewBox="-100 -100 200 200"
      height="100%"
      width="400px"
      preserveAspectRatio="none"
      className={styles.svgMorphFirst}
    >
      <animated.path
        d={x.to({
          range: [0, 1],
          output: [paths[pathIndex], paths[(pathIndex + 1) % paths.length]]
        })}
        fill="#fccb6f"
      />
    </svg>
  );
}